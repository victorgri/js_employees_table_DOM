{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["/* eslint-disable max-len */\n'use strict';\n\nconst QUERY = {\n  'Name': 0,\n  'Position': 1,\n  'Office': 2,\n  'Age': 3,\n  'Salary': 4,\n};\n\nconst queryName = 0;\nconst queryPosition = 1;\nconst queryOffice = 2;\nconst queryAge = 3;\nconst querySalary = 4;\n\nconst notificationSuccess = 'success';\nconst notificationError = 'error';\n\nconst body = document.querySelector('body');\nconst thead = document.querySelector('thead');\nconst tbody = document.querySelector('tbody');\nconst employees = tbody.children;\n\nlet desc = false;\nlet query = '';\n\nfunction sortEmployees(sortedQuery) {\n  switch (sortedQuery) {\n    case queryName:\n    case queryPosition:\n    case queryOffice:\n      return desc\n        ? [...employees].sort((em1, em2) =>\n          em2.children[sortedQuery].innerText\n            .localeCompare(em1.children[sortedQuery].innerText),\n        )\n        : [...employees].sort((em1, em2) =>\n          em1.children[sortedQuery].innerText\n            .localeCompare(em2.children[sortedQuery].innerText),\n        );\n    case queryAge:\n      return desc\n        ? [...employees].sort((em1, em2) =>\n          +em2.children[sortedQuery].innerText\n          - +em1.children[sortedQuery].innerText,\n        )\n        : [...employees].sort((em1, em2) =>\n          +em1.children[sortedQuery].innerText\n          - +em2.children[sortedQuery].innerText,\n        );\n    case querySalary:\n      return desc\n        ? [...employees].sort((em1, em2) =>\n          getNumberSalary(em2.children[sortedQuery].innerText)\n          - getNumberSalary(em1.children[sortedQuery].innerText),\n        )\n        : [...employees].sort((em1, em2) =>\n          getNumberSalary(em1.children[sortedQuery].innerText)\n          - getNumberSalary(em2.children[sortedQuery].innerText),\n        );\n  }\n}\n\nfunction getNumberSalary(salary) {\n  return +salary.slice(1).replaceAll(',', '');\n}\n\nfunction printNewTable(newEmployees) {\n  tbody.innerHTML = '';\n\n  newEmployees.forEach(emp => tbody.append(emp));\n}\n\nthead.addEventListener('click', e => {\n  desc = query === e.target.innerText ? !desc : false;\n\n  query = e.target.innerText;\n\n  const newEmployees = sortEmployees(QUERY[query]);\n\n  printNewTable(newEmployees);\n});\n\n[...employees].forEach(empl => empl.addEventListener('click', () => {\n  [...employees].forEach(e => {\n    e.classList = '';\n  });\n\n  empl.classList.add('active');\n}));\n\nconst form = document.createElement('form');\n\nform.classList = 'new-employee-form';\n\nform.innerHTML = `\n<label>Name: <input name=\"name\" type=\"text\" data-qa=\"name\"></label>\n<label>Position: <input name=\"position\" type=\"text\" data-qa=\"position\"></label>\n<label>Office:\n<select name=\"office\" data-qa=\"office\">\n<option value=\"Tokyo\">Tokyo</option>\n<option value=\"Singapore\">Singapore</option>\n<option value=\"London\">London</option>\n<option value=\"New York\">New York</option>\n<option value=\"Edinburgh\">Edinburgh</option>\n<option value=\"San Francisco\">San Francisco</option>\n</select>\n</label>\n<label>Age: <input name=\"age\" type=\"number\" data-qa=\"age\"></label>\n<label>Salary: <input name=\"salary\" type=\"number\" data-qa=\"salary\"></label>\n<button>Save to table</button>\n`;\n\nbody.append(form);\n\nform.addEventListener('click', e => {\n  const target = e.target;\n  const button = form.querySelector('button');\n\n  if (target !== button) {\n    return;\n  }\n\n  e.preventDefault();\n\n  const formName = form.children[0].children[0].value;\n  const formPosition = form.children[1].children[0].value;\n  const formOffice = form.children[2].children[0].value;\n  const formAge = form.children[3].children[0].value;\n  const formSalary = form.children[4].children[0].value;\n\n  if (!formPosition.trim() || !formOffice || !formSalary) {\n    showErrorMessage('Error',\n      'All inputs must be filled',\n      notificationError);\n\n    return;\n  }\n\n  if (formName.trim().length < 4) {\n    showErrorMessage('Wrong name',\n      'Name must contains at least 4 characters',\n      notificationError);\n\n    return;\n  }\n\n  if (+formAge < 18 || +formAge > 90) {\n    showErrorMessage('Wrong age',\n      'Age must be more than 18 and less than 90',\n      notificationError);\n\n    return;\n  }\n\n  showErrorMessage('Success',\n    'Employee was created',\n    notificationSuccess);\n\n  tbody.insertAdjacentHTML('afterbegin', `\n  <tr>\n    <td>${formName.trim()}</td>\n    <td>${formPosition.trim()}</td>\n    <td>${formOffice}</td>\n    <td>${formAge}</td>\n    <td>$${formSalary.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}</td>\n  </tr>\n  `);\n\n  form.reset();\n});\n\nfunction showErrorMessage(title, description, type) {\n  const notification = document.createElement('div');\n\n  notification.classList.add('notification');\n  notification.setAttribute('data-qa', 'notification');\n\n  switch (type) {\n    case notificationSuccess:\n      notification.classList.add(notificationSuccess);\n      break;\n    case notificationError:\n      notification.classList.add(notificationError);\n      break;\n  }\n\n  notification.style.top = `15px`;\n  notification.style.right = `15px`;\n\n  const titleContext = document.createElement('h2');\n\n  titleContext.classList.add('title');\n\n  const descriptionContext = document.createElement('p');\n\n  titleContext.innerText = title;\n  descriptionContext.innerText = description;\n\n  notification.append(titleContext);\n  notification.append(descriptionContext);\n  body.append(notification);\n\n  setTimeout(() => {\n    notification.remove();\n  }, 2000);\n}\n\ntbody.addEventListener('dblclick', e => {\n  const target = e.target;\n\n  if (target.tagName === 'TD') {\n    const parentRow = target.parentElement;\n\n    const originalText = target.innerText;\n    const newInput = document.createElement('INPUT');\n\n    const handleInput = () => {\n      newInput.value.trim() === ''\n        ? target.innerText = originalText\n        : target.innerText = newInput.value;\n\n      if (newInput.classList.contains('salary')) {\n        target.innerText\n          = '$' + newInput.value.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n      }\n    };\n\n    target.innerText = '';\n\n    newInput.classList.add('cell-input');\n\n    newInput.value = originalText;\n\n    if (target === parentRow.children[3]) {\n      newInput.setAttribute('type', 'number');\n    }\n\n    if (target === parentRow.children[4]) {\n      newInput.value = Number(originalText.replace(/\\D/g, ''));\n      newInput.setAttribute('type', 'number');\n      newInput.classList.add('salary');\n    }\n\n    target.append(newInput);\n    newInput.focus();\n\n    newInput.addEventListener('blur', () => {\n      handleInput();\n    });\n\n    newInput.addEventListener('keypress', (press) => {\n      if (press.key === 'Enter') {\n        handleInput();\n      }\n    });\n  }\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}